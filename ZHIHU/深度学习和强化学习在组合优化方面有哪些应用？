一. 深度学习和强化学习求解组合优化问题思路简介
组合优化问题由于多半属于NP-hard问题，传统的数学优化方法目前很难求到精确解。
神经网络是否能帮助组合优化问题的求解一直以来都是一个非常有趣和前沿的话题。回顾神经网络发展历史，
早在1982年就有采用Hopfield神经网络来求解TSP问题（旅行商问题）。Hopfield神经网络是一种递归神经网络，
从输出到输入均有反馈连接，每一个神经元跟所有其他神经元相互连接，又称为全互联网络。对Hopfield神经网络的研究
更是引领了八十年代人工智能研究的复兴。
  近些年来深度学习在图片识别等任务上取得了前所未有的效果，强化学习也在AlphoGo上大显神通。那么深度学习和强化学习
的突飞猛进的研究成果是否能够助力组合优化问题的求解呢？最近2-3年来在人工智能顶级会议NIPS, ICML 上，关于这方面
的探索性的研究也逐渐展露头角。本文先做一个简单的解读，便于研究组合优化的同学深入了解这些先驱性的探索工作。

这里先从宏观上说一下深度学习和强化学习如何帮助求解组合优化问题。



1组合优化的序列决策可以由深度学习或强化学习来替代
组合优化问题大多数情况下都是涉及到决策顺序，即序列的决策问题，例如对于TSP问题就是决定以什么顺序访问每一个城市，
例如对于Job shop问题（加工车间调度问题）就是决定以什么顺序在机器上加工工件。而深度神经网络里边的递归神经网络恰好
可以完成从一个序列到另一个序列的映射问题，因此可以借用递归神经网络来直接求解组合优化问题完全是一种可行的方案。
另外一套方案就是采用强化学习，强化学习天生就是做序列决策用的，那么组合优化问题里边的序列决策问题完全也可以用强化学习来直接求解，
其难点是怎么定义state, reward。



2求解组合优化的经典算法可以由强化学习帮助指导算法策略
分支定界算法是一种最常见的求解整数规划问题的方法。关于分支定界算法可以参考这篇：【学界】混合整数规划/离散优化的精确算法--分支定界法及优化求解器。
分支定界算法的效率取决于从哪个变量 branch 和 node selection两个因素，如果branch 和 node selection的策略比较好，那么分支定界算法可以很快的剪枝
或者可以很快的得到比较好的界，就可以大大提升分支定界算法的效率。目前对于 branch 和 node selection的策略还没有公认的太好的方法。传统的方法基本上
都是一些简单的启发式规则，那么强化学习可以帮助我们有效的给出一个 branch 和 node selection的策略。这样的一种策略也被称为Learning to search，
有别于以往单纯的基于Search的传统优化方法，Learning to search还是在优化过程中引入学习的概念帮助更加有效的搜索最优解。

2014年在NIPS会议上，文章[5]是比较早的一个用机器学习算法来学习分支定界算法里边的 branch 和 node selection的策略的。到了2017年，加拿大蒙特利尔的
Andrea Lodi还写了一个survey [5]，里边总结了各种关于Learning to search的研究的进展情况，写得非常全面。目前这方面的研究也处于探索中，值得我们
有所期待。



二. 专为组合优化求解而诞生的神经网络 -- Pointer Network 介绍
前面谈到了组合优化问题很多时候就是进行序列决策，而Pointer Network就是非常适合求解组合优化问题的一种神经网络。Pointer Network（后面简称Ptr-Net
是基于Sequence-to-Sequence网络生成的一种新的网络架构。Ptr-Net与Sequence-to-Sequence类似，都是解决从一个序列到另一个序列的映射问题，
不同的是Ptr-Net针对的序列问题更加特殊：输出序列的内容与输入序列的内容完全一致，只是序列的顺序发生了改变。这种问题在实际中常见的应用就是组合优化问题，
因此Ptr-Net首次建立了神经网络与组合优化问题的联系。

下面我们简单介绍一下Ptr-Net的基本原理，这里不涉及公式推导，若感兴趣，可以参看论文：https://arxiv.org/pdf/1506.03134.pdf

相信对深度学习有一定了解的同学对Sequence-to-Sequence模型并不陌生，它利用一个RNN将输入映射为一个嵌入（embedding），在利用另一个RNN将嵌入映射成为输出
，这两个RNN我们分别称之为encoding和decoding。然而在实际这种结构忽略了一个十分重要的问题：输出序列每个元素都与输入序列的一个或多个元素存在某种联系。
注意力机制（Attention Machanisim）正是为了解决这一问题而被提出，在计算输出序列时，它会通过某种方式得到该输出序列某一个位置的元素与输入序列每一个位置
关联的权重，然后将输入序列与该权重以一定的方式组合来影响输出。Ptr-Net正是利用了注意力机制解决了对输入序列排序的问题。通过注意力机制，可以计算出
当前输出与输入序列关系最大的元素，那么我们就将输入序列的元素作为该输出元素，每一个输出元素都像有一个指针一样指向输入元素，Pointer Network因此得名。
需要注意的是，每个输入元素只能被一个输出元素所指，这样就避免了输入元素的重复出现，下图给出Ptr-Net的基本结构图：


三. 相关资料汇总与点评
关于深度学习和强化学习在组合优化的应用这里无法一一对每一种方法进行详细的介绍。相信通过前两小节的科普，您已经对这个研究领域有了初步的认识。
如果想进行更深的研究和探讨，本文收集了近年来关于深度学习和强化学习在组合优化问题求解上的一些比较关键的资料，并对其进行了简单的点评和概括，
方便有兴趣的童鞋进一步深入了解。

1. Pointer Network:

https://arxiv.org/abs/1506.03134

这篇是后面几篇的基础。Pointer Network是脱胎于Google提出的Sequence-to-Sequence的网络结构。先把数据导入Encoder，再通过Decoder返回
指针指向Encoder输出的位置或者序号，顾名Pointer Network。
四. 总结
关于深度学习和强化学习求解组合优化问题的研究目前还处于一个探索阶段，必须承认的是目前的这些研究思路比较新奇，但是就当下的情况来看短期内
难以撼动传统数学优化和组合优化的方法。

深度学习，强化学习并非万能的灵药，但学科的交叉融合是一个必然的趋势，对于学习传统组合优化和数学优化的研究者应该持有一个乐观的态度
去做一些全新的交叉研究的尝试，对于深度学习，强化学习的研究来说也可以尝试把战场从图像识别，自然语言处理上转移到组合优化问题上来，
帮助组合优化问题更好的求解。
